<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>THE CHESS ARENA PI</title>
  <style>
    body {
      margin: 0;
      font-family: Arial, sans-serif;
      background: #1a1a1a;
      color: #f5f5f5;
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: flex-start;
      min-height: 100vh;
    }
    header {
      text-align: center;
      margin-top: 10px;
    }
    header h1 {
      font-size: 28px;
      font-weight: bold;
      color: #ffcc00;
      margin: 5px 0;
    }
    #timer {
      font-size: 22px;
      margin: 10px 0;
      background: #333;
      padding: 6px 14px;
      border-radius: 10px;
    }
    #board {
      width: 95vmin;
      max-width: 450px;
      aspect-ratio: 1/1;
      display: grid;
      grid-template-columns: repeat(8, 1fr);
      grid-template-rows: repeat(8, 1fr);
      border: 6px solid #5a3a1a;
      margin: 12px 0;
    }
    .square {
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 42px;
      font-weight: bold;
    }
    .light { background: #deb887; }       /* burlywood wood tone */
    .dark  { background: #a0522d; }       /* darker shade for contrast */
    #status {
      font-size: 18px;
      margin: 10px 0;
    }
    footer {
      margin-top: auto;
      padding: 8px;
      font-size: 14px;
      color: #aaa;
    }
  </style>
</head>
<body>
  <header>
    <div id="logo">♘</div>
    <h1>THE CHESS ARENA PI</h1>
  </header>

  <div id="timer">5:00</div>

  <div id="board"></div>

  <div id="status">Game in progress…</div>

  <footer>
    <p>Powered by Pi | © Chess Arena Pi</p>
  </footer>

  <!-- Scripts -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/chess.js/0.13.4/chess.min.js"></script>
  <script>
    const boardEl = document.getElementById("board");
    const statusEl = document.getElementById("status");
    const timerEl = document.getElementById("timer");
    const game = new Chess();

    // Unicode ebony/ivory pieces
    const PIECES = {
      p: "♟", r: "♜", n: "♞", b: "♝", q: "♛", k: "♚",
      P: "♙", R: "♖", N: "♘", B: "♗", Q: "♕", K: "♔"
    };

    // build board
    function drawBoard() {
      boardEl.innerHTML = "";
      const squares = game.board();
      squares.forEach((row, r) => {
        row.forEach((sq, c) => {
          const square = document.createElement("div");
          square.className = "square " + ((r+c)%2 ? "dark" : "light");
          if (sq) square.textContent = PIECES[sq.type * (sq.color==="w"?1:-1)] || PIECES[sq.type.toUpperCase()];
          boardEl.appendChild(square);
        });
      });
    }

    // click moves
    let selected = null;
    boardEl.addEventListener("click", e => {
      if (!e.target.classList.contains("square")) return;
      const index = [...boardEl.children].indexOf(e.target);
      const row = Math.floor(index/8);
      const col = index%8;
      const file = "abcdefgh"[col];
      const rank = 8-row;
      const square = file+rank;

      if (!selected) {
        selected = square;
        e.target.style.outline = "3px solid yellow";
      } else {
        const move = game.move({ from: selected, to: square, promotion: "q" });
        [...boardEl.children].forEach(sq => sq.style.outline="");
        selected = null;
        if (move) {
          // play sound hooks here
          if (move.flags.includes("c")) {
            // capture sound
          } else {
            // move sound
          }
          updateStatus();
          drawBoard();
        }
      }
    });

    function updateStatus() {
      if (game.isCheckmate()) {
        statusEl.textContent = "Checkmate! " + (game.turn()==="w"?"Black":"White") + " wins.";
        // win/lose sound
      } else if (game.isDraw()) {
        statusEl.textContent = "Game drawn.";
      } else if (game.isCheck()) {
        statusEl.textContent = (game.turn()==="w"?"White":"Black") + " to move — in Check!";
        // check sound
      } else {
        statusEl.textContent = (game.turn()==="w"?"White":"Black") + " to move.";
      }
    }

    drawBoard();
    updateStatus();

    // simple countdown timer
    let time = 300; // 5 min
    setInterval(() => {
      if (time>0) {
        time--;
        const m = Math.floor(time/60);
        const s = String(time%60).padStart(2,"0");
        timerEl.textContent = `${m}:${s}`;
      }
    }, 1000);
  </script>
</body>
</html>
