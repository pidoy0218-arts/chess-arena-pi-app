<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Chess Arena Pi – Lobby</title>
  <style>
    body {
      margin: 0;
      font-family: Arial, sans-serif;
      background: #f4f4f4;
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      height: 100vh;
      text-align: center;
    }

    .loader {
      position: relative;
      width: 60px;
      height: 60px;
      margin-bottom: 20px;
    }

    .pi-symbol {
      font-size: 28px;
      color: #6a0dad;
      position: absolute;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
    }

    .dot {
      width: 6px;
      height: 6px;
      background: gold;
      border-radius: 50%;
      position: absolute;
      top: 50%;
      left: 50%;
      transform-origin: -25px;
      animation: orbit 2s linear infinite;
    }

    .dot:nth-child(2) { animation-delay: 0.2s; }
    .dot:nth-child(3) { animation-delay: 0.4s; }
    .dot:nth-child(4) { animation-delay: 0.6s; }

    @keyframes orbit {
      from { transform: rotate(0deg) translateX(25px) rotate(0deg); }
      to { transform: rotate(360deg) translateX(25px) rotate(-360deg); }
    }

    .loading-text {
      font-size: 14px;
      color: #444;
      margin-bottom: 20px;
    }

    .btn {
      display: block;
      width: 220px;
      margin: 8px auto;
      padding: 12px;
      font-size: 16px;
      font-weight: bold;
      border: none;
      border-radius: 8px;
      cursor: pointer;
      color: #fff;
    }

    .invite { background: #2196f3; }
    .random { background: #4caf50; }
    .ai { background: #ff9800; }
  </style>
</head>
<body>

  <div class="loader">
    <div class="pi-symbol">π</div>
    <div class="dot"></div>
    <div class="dot"></div>
    <div class="dot"></div>
    <div class="dot"></div>
  </div>
  <div class="loading-text">Loading Pi Network SDK</div>

  <button class="btn invite" onclick="inviteFriend()">Invite Friend</button>
  <button class="btn random" onclick="randomMatch()">Random Match</button>
  <button class="btn ai" onclick="playAI()">Play with AI</button>

  <script>
    // Mock payment popup
    function fakePayment(mode, callback) {
      if (confirm(`Confirm Payment of 0.25 Pi for ${mode}?`)) {
        setTimeout(callback, 1000); // Simulate processing
      } else {
        alert("Payment cancelled.");
      }
    }

    // Invite flow
    function inviteFriend() {
      let invitee = prompt("Enter Pi Username of your friend:");
      if (!invitee) return;

      fakePayment("Invite Match", () => {
        // Simulate invitee confirmation
        if (confirm(`${invitee} received your invite. Accept and Pay?`)) {
          window.location.href = "game.html?mode=invite&pair=" + invitee;
        } else {
          alert(invitee + " declined your invite.");
        }
      });
    }

    // Random flow
    function randomMatch() {
      fakePayment("Random Match", () => {
        alert("Pairing with another player...");
        setTimeout(() => {
          window.location.href = "game.html?mode=random&pair=Player123";
        }, 2000);
      });
    }

    // AI flow
    function playAI() {
      fakePayment("AI Match", () => {
        window.location.href = "game.html?mode=ai";
      });
    }
  </script>
</body>
</html>
